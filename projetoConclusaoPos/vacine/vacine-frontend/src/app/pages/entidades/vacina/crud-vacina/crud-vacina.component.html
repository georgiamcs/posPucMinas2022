<div class="container">
  <vacine-mensagem-feedback [mensagens]="mensagens"></vacine-mensagem-feedback>
  <fieldset class="crudfieldset border rounded p-2 mb-3">
    <legend class="titfiedlset float-none w-auto h3">
      &nbsp;Cadastro de Vacinas&nbsp;
    </legend>
    <form class="crudform" class="crudform grade" [formGroup]="form">
      <span class="divnome">
        <mat-form-field class="crudfield" id="fNome" class="crudfield">
          <mat-label id="lbNome">Nome</mat-label>
          <input id="inNome" formControlName="nome" matInput type="text" />
        </mat-form-field>
        <vacine-msg-erro-input
          [form]="form"
          campo="nome"
          validacao="obrigatorio"
        ></vacine-msg-erro-input>
        <vacine-msg-erro-input
          [form]="form"
          campo="nome"
          validacao="formato"
          msgerro="Tamanho mínimo do campo é de 3 caracteres e máximo de 100"
        ></vacine-msg-erro-input>
      </span>
      <span class="divprotecao">
        <mat-form-field class="crudfield" id="fProtecaoContra">
          <mat-label id="lbProtecaoContra">Proteção contra</mat-label>
          <input
            id="inProtecaoContra"
            formControlName="protecao_contra"
            matInput
            type="text"
          />
        </mat-form-field>
        <vacine-msg-erro-input
          [form]="form"
          campo="protecao_contra"
          validacao="obrigatorio"
        ></vacine-msg-erro-input>
      </span>
      <span class="divcomposicao">
        <mat-form-field class="crudfield" id="fComposicao">
          <mat-label id="lbComposicao">Composição</mat-label>
          <input
            id="inComposicao"
            formControlName="composicao"
            matInput
            type="text"
          />
        </mat-form-field>
        <vacine-msg-erro-input
          [form]="form"
          campo="composicao"
          validacao="obrigatorio"
        ></vacine-msg-erro-input>
      </span>
      <span class="dividaderecomendada">
        <span>
          <mat-checkbox
            class="crudfield"
            id="fTemIdadeRecomendada"
            formControlName="in_idade_recomendada"
            (change)="verificarIdadeRecomendada()"
            >Tem idade recomendada
          </mat-checkbox>
          <vacine-msg-erro-input
            [form]="form"
            campo="in_idade_recomendada"
            validacao="obrigatorio"
          ></vacine-msg-erro-input>
        </span>

        <span *ngIf="getValorCampoForm('in_idade_recomendada')">
          <mat-form-field class="crudfield" id="fIdadeRecomendada" class="me-3">
            <mat-label id="lbIdadeRecomendada">Idade</mat-label>
            <input
              id="nrIdadeRecomendada"
              formControlName="nr_idade_recomendada"
              matInput
              type="number"
            />
          </mat-form-field>
          <vacine-msg-erro-input
            [form]="form"
            campo="nr_idade_recomendada"
            validacao="obrigatorio"
          ></vacine-msg-erro-input>
          <vacine-msg-erro-input
            [form]="form"
            campo="nr_idade_recomendada"
            validacao="limite"
            msgerro="Valor mínimo do campo é 0 e o máximo é 130"
          ></vacine-msg-erro-input>
          <label id="lbTipoIdadeRecomedada"></label>
          <mat-radio-group formControlName="tp_idade_recomendada">
            <mat-radio-button value="A"> Anos </mat-radio-button>
            <mat-radio-button value="M"> Meses </mat-radio-button>
          </mat-radio-group>
          <vacine-msg-erro-input
            [form]="form"
            campo="tp_idade_recomendada"
            validacao="obrigatorio"
          ></vacine-msg-erro-input>
        </span>
      </span>
      <div class="barrabutton">
        <button
          class="crudbutton"
          *ngIf="temBotaoAcao()"
          mat-raised-button
          color="primary"
          (click)="salvar()"
          [disabled]="!habilitarBotaoAcao()"
        >
          {{ lbBotaoSalvar }}
        </button>
        <button class="crudbutton" mat-raised-button (click)="fechar()">
          {{ lbBotaoFechar }}
        </button>
      </div>
    </form>
  </fieldset>
</div>
